<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="AcE2i9q@Uj5{)D8%dCCa">currentStrength</variable><variable id="D9i^sB#m!Hhr[-PKw*aT">total</variable><variable id="=~m$@`-rb8Mne(^%PA29">readings</variable><variable id="`6~~P6,Cc_,_pTj5T}?-">readIndex</variable><variable id="Nw8eJ,[9{m)}k8N[pCYL">NUM_READINGS</variable><variable id="|A~7x%@cGg/sOg}2dKGX">average</variable><variable id="*Xdt[dC]*nK2i[-ip+zO">movingAverageStrength</variable><variable id="1}pvWZs$@X%F~q~.=J1%">SOME_THRESHOLD</variable><variable id="du5_!kF7P97(@Eu2YXeq">isCloseEnough</variable><variable id="h~`2`,u_Pnq(Ku]4{{CM">confirmed</variable><variable id="G[SJYTEn.l-a-$llJuQH">BUFFER</variable><variable id="wMNRVk5q}KVi(rG?#bYr">calibrationValue</variable></variables><block type="pxt-on-start" id="f_/2SCRog-r-98r@H8:]" x="20" y="20"><statement name="HANDLER"><block type="typescript_statement" id="[q0l}n@qz0]ow4}$+9)-" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let calibrationValue = 0" numlines="1" declaredvars="calibrationValue"></mutation><comment pinned="false" h="80" w="160">Calibration Phase</comment><next><block type="variables_set" id="Y_lF}@HE39CMY`!}8G65"><field name="VAR" id="Nw8eJ,[9{m)}k8N[pCYL">NUM_READINGS</field><comment pinned="false" h="80" w="160">for smoothing out readings
number of readings to average</comment><value name="VALUE"><shadow type="math_number" id="JfIZUX.vr.V.E}N7OKKT"><field name="NUM">10</field></shadow></value><next><block type="controls_repeat_ext" id="P~%f43aV}/`h(2/@13:F"><value name="TIMES"><shadow type="math_whole_number"><field name="NUM">0</field></shadow><block type="variables_get" id="q6e/o?}m*vlBjrP.otw0"><field name="VAR" id="Nw8eJ,[9{m)}k8N[pCYL">NUM_READINGS</field></block></value><statement name="DO"><block type="array_push" id="*cS)j^$KX4J[AUvV3T?0"><value name="list"><block type="variables_get" id="qNoE^T6KA3Q9W+puD4Ou"><field name="VAR" id="=~m$@`-rb8Mne(^%PA29">readings</field></block></value><value name="value"><shadow type="math_number" id="EZanhZ7HQ2N^_B_+CECE"><field name="NUM">0</field></shadow></value></block></statement><next><block type="variables_set" id="62LR^Qnd,fV-Z9v]~f~v"><field name="VAR" id="G[SJYTEn.l-a-$llJuQH">BUFFER</field><value name="VALUE"><shadow type="math_number" id=":ClJ_pBKkM2g}8LZcBu4"><field name="NUM">10</field></shadow></value><next><block type="radio_set_group" id="Nr7t2`XAbq(%wk_6oUL5"><value name="ID"><shadow type="math_number_minmax" id="R5m];_HHuU8}rJB`hc[D"><mutation min="0" max="255" label="Number" precision="0"></mutation><field name="SLIDER">1</field></shadow></value><next><block type="controls_repeat_ext" id="@)LY+D7#*S9[:y1/hKM$"><value name="TIMES"><shadow type="math_whole_number" id="ib1_=:bDAzd|@al$lK#N"><field name="NUM">5</field></shadow></value><statement name="DO"><block type="radio_datagram_send_string" id="Mn!NfC_%2iUY$hDvuly;"><value name="msg"><shadow type="text" id="tbSs$udDvY*ivmC@s,w2"><field name="TEXT">Calibrate</field></shadow></value><next><block type="variables_change" id="u_qvfm_K3!SAnH}q-*D+"><field name="VAR" id="wMNRVk5q}KVi(rG?#bYr">calibrationValue</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="radio_received_packet" id="~0E6N[APBvNH//vm~O`P"><value name="type"><shadow type="radio_packet_property" id="U]0~?KuH65;x%_up7!P?"><field name="note">RadioPacketProperty.SignalStrength</field></shadow></value></block></value><next><block type="device_pause" id="hWlg@Pqm`6B0N-lmn/xx"><value name="pause"><shadow type="timePicker" id="(ehn,z=J-gaN+{6RaEqf"><field name="ms">100</field></shadow></value></block></next></block></next></block></statement><next><block type="typescript_statement" id="n+*42^m.Wc#^gJb`zW9q" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="calibrationValue /= 5" numlines="1"></mutation><next><block type="variables_set" id="|s/ZekP@N-;*C9A-Z+}q"><field name="VAR" id="1}pvWZs$@X%F~q~.=J1%">SOME_THRESHOLD</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="OV.!Z*NBEyyhFNsm~=ky"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="2$Ne8A[*q;[1(6]}p459"><field name="VAR" id="wMNRVk5q}KVi(rG?#bYr">calibrationValue</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="BA-N?[cky?)Hnlz5Awh("><field name="VAR" id="G[SJYTEn.l-a-$llJuQH">BUFFER</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_forever" id="PXNN?`V=bIS:-fK?d=nH" x="734" y="20"><statement name="HANDLER"><block type="controls_if" id="0[^dcuA8Gin!=*tA}CLg"><mutation elseif="1" else="1"></mutation><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="CK:$%IGIx3(C/xt)ok|8"><field name="VAR" id="h~`2`,u_Pnq(Ku]4{{CM">confirmed</field></block></value><statement name="DO0"><block type="basic_show_icon" id="YS,S95G7NrRR}]@+_}GG"><field name="i">IconNames.Happy</field></block></statement><value name="IF1"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="5GjUJ32.lUE#t;QmG]h?"><field name="VAR" id="du5_!kF7P97(@Eu2YXeq">isCloseEnough</field></block></value><statement name="DO1"><block type="basic_show_icon" id="taos}z=ZWWdx)y9vYgG}"><field name="i">IconNames.Yes</field></block></statement><statement name="ELSE"><block type="basic_show_icon" id="T3^h*wsEer;LGx!S|J={"><field name="i">IconNames.No</field></block></statement><next><block type="device_pause" id="^f}d:s+vMJ:!@Ko1{B^T"><value name="pause"><shadow type="timePicker" id="q-^Z{wwra{_E1uP8njwB"><field name="ms">500</field></shadow></value></block></next></block></statement></block><block type="radio_on_string_drag" id="qgh)Zx5_#LZSeU0,+tpg" x="1114" y="20"><value name="HANDLER_DRAG_PARAM_receivedString"><shadow type="argument_reporter_string" id=".IKqKKhcrCj|7pmX;[U="><field name="VALUE">receivedString</field></shadow></value><statement name="HANDLER"><block type="variables_set" id="Z3m2eCJnyyE:}=zaD[Ld"><field name="VAR" id="AcE2i9q@Uj5{)D8%dCCa">currentStrength</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="radio_received_packet" id="5[JeN*_?_Q3%{Bh4Bz?|"><value name="type"><shadow type="radio_packet_property" id="854SzuzXJ3WneiVt]qj%"><field name="note">RadioPacketProperty.SignalStrength</field></shadow></value></block></value><next><block type="variables_change" id="/@]5t#Iex{ZQz]4an2]a"><field name="VAR" id="D9i^sB#m!Hhr[-PKw*aT">total</field><comment pinned="false" h="80" w="160">Compute moving average</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="8Q[M?g{7#NNqYqYcz0u*"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="~9pH`nT!9bLr$VVUyB7X"><field name="NUM">0</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="m]CO=8Ijh1,fyWoRz`vj"><value name="LIST"><block type="variables_get" id="fqrM!61M7A_wr.rw(:-z"><field name="VAR" id="=~m$@`-rb8Mne(^%PA29">readings</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="Ls6%hS^4z_CR-UaxAk;l"><field name="VAR" id="`6~~P6,Cc_,_pTj5T}?-">readIndex</field></block></value></block></value></block></value><next><block type="lists_index_set" id="NTB#..s,^9wVzI8h$q`$"><value name="LIST"><block type="variables_get" id="VS09iQbva4Y^h|yzWv`#"><field name="VAR" id="=~m$@`-rb8Mne(^%PA29">readings</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="g!7o:Qe@!$$P-|9mOb3."><field name="VAR" id="`6~~P6,Cc_,_pTj5T}?-">readIndex</field></block></value><value name="VALUE"><block type="variables_get" id="DM20*[8h7B$qb%S[g34R"><field name="VAR" id="AcE2i9q@Uj5{)D8%dCCa">currentStrength</field></block></value><next><block type="variables_change" id="gnfN8W+Iy[HG_t]iIy^D"><field name="VAR" id="D9i^sB#m!Hhr[-PKw*aT">total</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="8gsM]?|m7@stbnA%]C1d"><value name="LIST"><block type="variables_get" id="C}oxY6[(^fsci+_XS=z("><field name="VAR" id="=~m$@`-rb8Mne(^%PA29">readings</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="XV`M8ffidX$~e=:v_HKL"><field name="VAR" id="`6~~P6,Cc_,_pTj5T}?-">readIndex</field></block></value></block></value><next><block type="variables_change" id="/MGSD5RW*__A8P-6MN$f"><field name="VAR" id="`6~~P6,Cc_,_pTj5T}?-">readIndex</field><value name="VALUE"><shadow type="math_number" id="tq-@TG,5J.se^2Fz`jun"><field name="NUM">1</field></shadow></value><next><block type="controls_if" id="LGEfx_DB)/BZ57c*nJ9N"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="9)r0~#]2!kfAY?1.c}EA"><field name="OP">GTE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="S[+2C$Q=5=lAnUT2Hn:h"><field name="VAR" id="`6~~P6,Cc_,_pTj5T}?-">readIndex</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="0qP!cg*9$FSYw.cfR_Ph"><field name="VAR" id="Nw8eJ,[9{m)}k8N[pCYL">NUM_READINGS</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="xbO=c~2Ujji(hRcE|R3d"><field name="VAR" id="`6~~P6,Cc_,_pTj5T}?-">readIndex</field><value name="VALUE"><shadow type="math_number" id="]{%sGPXe#M(b:r^tBPFN"><field name="NUM">0</field></shadow></value></block></statement><next><block type="variables_set" id="l)iPKZ=P9GsTO0Hl1).O"><field name="VAR" id="|A~7x%@cGg/sOg}2dKGX">average</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="%Er2sX$K?Dhq#*tIwD1`"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="(?uNw+_?8R_@Y]!p+}d}"><field name="VAR" id="D9i^sB#m!Hhr[-PKw*aT">total</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="|3op$Ah2CkJ{x=b/].gi"><field name="VAR" id="Nw8eJ,[9{m)}k8N[pCYL">NUM_READINGS</field></block></value></block></value><next><block type="variables_set" id="@2YmRXX~hX?M2x_uTxsF"><field name="VAR" id="*Xdt[dC]*nK2i[-ip+zO">movingAverageStrength</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="kwNVy}+q#|D~[U`]./DN"><field name="VAR" id="|A~7x%@cGg/sOg}2dKGX">average</field></block></value><next><block type="controls_if" id=".%7g!PL*6wltW-(6P)xi"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="6}eGCs@yQ^?/VXd}N4L`"><field name="OP">GT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="%V~sk)7=B{%({@S;XXK$"><field name="VAR" id="*Xdt[dC]*nK2i[-ip+zO">movingAverageStrength</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="xd7$2=4jkPgqdsf`5=/U"><field name="VAR" id="1}pvWZs$@X%F~q~.=J1%">SOME_THRESHOLD</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="[`ol~?_hHY6*?[:NXgn3"><field name="VAR" id="du5_!kF7P97(@Eu2YXeq">isCloseEnough</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="9BMRkWz1j^G4$vnM:QW_"><field name="BOOL">TRUE</field></block></value></block></statement><statement name="ELSE"><block type="variables_set" id=";GSV~4d1D+/_)_fay,3*"><field name="VAR" id="du5_!kF7P97(@Eu2YXeq">isCloseEnough</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="W7rqOYgyZkN327-U$Z6."><field name="BOOL">FALSE</field></block></value></block></statement><next><block type="controls_if" id="adzDXXbpPC{ADOE#CuFP"><mutation elseif="2" else="1"></mutation><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="|;S.](_}J|Tkx*t8n#f|"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_string" id="emb[1Iiw~6^}+,_dWUOs"><field name="VALUE">receivedString</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="NXd|0x-x8N@;RqvlzqLw"><field name="TEXT">ConfirmM2</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="Z$oD{5zBW4aP]B4HR~IA"><field name="VAR" id="h~`2`,u_Pnq(Ku]4{{CM">confirmed</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="3c]oKWg2~VM%[NzuPS)I"><field name="BOOL">TRUE</field></block></value></block></statement><value name="IF1"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="Ew?J-)v;L;L~`#zH3J;y"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_string" id=":ZTz~/hVE,8%7(_(R(wY"><field name="VALUE">receivedString</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="3ZemWfGPIb4?JT6_95?^"><field name="TEXT">Reset</field></block></value></block></value><statement name="DO1"><block type="variables_set" id="4`p7+Yri2jTC)-~0Yx0?"><field name="VAR" id="h~`2`,u_Pnq(Ku]4{{CM">confirmed</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="lKs$Fapq[hI{ACRbNIQ@"><field name="BOOL">FALSE</field></block></value><next><block type="variables_set" id="G.i8Mp`gd6%aB|abV[qU"><field name="VAR" id="du5_!kF7P97(@Eu2YXeq">isCloseEnough</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="8{ORf!crXAXtIO)nq^yo"><field name="BOOL">FALSE</field></block></value><next><block type="device_clear_display" id="*fiU^t^TS@FJ0mi(|VwE"></block></next></block></next></block></statement><value name="IF2"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="}g{%3-MxM(x;DE#-b0bl"><field name="VAR" id="du5_!kF7P97(@Eu2YXeq">isCloseEnough</field></block></value><statement name="DO2"><block type="radio_datagram_send_string" id="1Asu3~bQUfzTPrVo63B3"><value name="msg"><shadow type="text" id="@dooL%KE(0Qs/R1D_=|D"><field name="TEXT">M2Found</field></shadow></value></block></statement><statement name="ELSE"><block type="radio_datagram_send_string" id="GI4R}Byz2Ep]iq[.6RZ}"><value name="msg"><shadow type="text" id="uYbHy{v-I,+yw%k#JCVz"><field name="TEXT">M2Searching</field></shadow></value></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>